<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The practical HTTP client that is fun to use."><meta name="keywords" content="rust, rustlang, rust-lang, isahc"><title>isahc - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="shortcut icon" href="https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;sagebind&#x2F;isahc&#x2F;master&#x2F;media&#x2F;icon.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../isahc/index.html'><div class='logo-container rust-logo'><img src='https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;sagebind&#x2F;isahc&#x2F;master&#x2F;media&#x2F;isahc.svg.png' alt='logo'></div></a><h2 class="location">Crate isahc</h2><div class="block version"><div class="narrow-helper"></div><p>Version 1.5.0</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all isahc's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></div><div id="sidebar-vars" data-name="isahc" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">isahc</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/isahc/lib.rs.html#1-483" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The practical HTTP client that is fun to use.</p>
<p>Here are some of Isahc’s key features:</p>
<ul>
<li>Full support for HTTP/1.1 and HTTP/2.</li>
<li>Configurable request timeouts, redirect policies, Unix sockets, and many
more settings.</li>
<li>Offers an ergonomic synchronous API as well as a runtime-agnostic
asynchronous API with support for async/await.</li>
<li>Fully asynchronous core, with incremental reading and writing of request
and response bodies and connection multiplexing.</li>
<li>Sessions and cookie persistence.</li>
<li>Automatic request cancellation on drop.</li>
</ul>
<h1 id="getting-started" class="section-header"><a href="#getting-started">Getting started</a></h1>
<p>Sending requests is as easy as calling a single function. Let’s make a
simple GET request to an example website:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">isahc::prelude</span>::<span class="kw-2">*</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">response</span> <span class="op">=</span> <span class="ident">isahc::get</span>(<span class="string">&quot;https://example.org&quot;</span>)<span class="question-mark">?</span>;
<span class="macro">println!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">response</span>.<span class="ident">text</span>()<span class="question-mark">?</span>);</code></pre></div>
<p>By default, sending a request will wait for the response, up until the
response headers are received. The returned response struct includes the
response body as an open stream implementing <a href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html"><code>Read</code></a>.</p>
<p>Sending a POST request is also easy, and takes an additional argument for
the request body:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">response</span> <span class="op">=</span> <span class="ident">isahc::post</span>(<span class="string">&quot;https://httpbin.org/post&quot;</span>, <span class="string">&quot;make me a salad&quot;</span>)<span class="question-mark">?</span>;</code></pre></div>
<p>Isahc provides several other simple functions for common HTTP request types:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="ident">isahc::put</span>(<span class="string">&quot;https://httpbin.org/put&quot;</span>, <span class="string">&quot;have a salad&quot;</span>)<span class="question-mark">?</span>;
<span class="ident">isahc::head</span>(<span class="string">&quot;https://httpbin.org/get&quot;</span>)<span class="question-mark">?</span>;
<span class="ident">isahc::delete</span>(<span class="string">&quot;https://httpbin.org/delete&quot;</span>)<span class="question-mark">?</span>;</code></pre></div>
<p>If you want to customize the request by adding headers, setting timeouts,
etc, then you can create a <a href="struct.Request.html" title="Request"><code>Request</code></a> using a
builder-style fluent interface, then finishing it off with a
<a href="trait.RequestExt.html#tymethod.send" title="RequestExt::send"><code>send</code></a>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">isahc</span>::{<span class="ident">prelude</span>::<span class="kw-2">*</span>, <span class="ident">Request</span>};
<span class="kw">use</span> <span class="ident">std::time::Duration</span>;

<span class="kw">let</span> <span class="ident">response</span> <span class="op">=</span> <span class="ident">Request::post</span>(<span class="string">&quot;https://httpbin.org/post&quot;</span>)
    .<span class="ident">header</span>(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;application/json&quot;</span>)
    .<span class="ident">timeout</span>(<span class="ident">Duration::from_secs</span>(<span class="number">5</span>))
    .<span class="ident">body</span>(<span class="string">r#&quot;{
        &quot;speed&quot;: &quot;fast&quot;,
        &quot;cool_name&quot;: true
    }&quot;#</span>)<span class="question-mark">?</span>
    .<span class="ident">send</span>()<span class="question-mark">?</span>;</code></pre></div>
<p>For even more examples used in complete programs, please check out the
<a href="https://github.com/sagebind/isahc/tree/master/examples">examples</a> directory
in the project repo.</p>
<h1 id="feature-tour" class="section-header"><a href="#feature-tour">Feature tour</a></h1>
<p>Below is a brief overview of some notable features of Isahc. Check out the
rest of the documentation for even more guides and examples.</p>
<h2 id="easy-request-functions" class="section-header"><a href="#easy-request-functions">Easy request functions</a></h2>
<p>You can start sending requests without any configuration by using the global
functions in this module, including <a href="fn.get.html" title="get"><code>get</code></a>, <a href="fn.post.html" title="post"><code>post</code></a>, and <a href="fn.send.html" title="send"><code>send</code></a>. These
use a shared HTTP client instance with sane defaults, so it is easy to get
up and running. They should work perfectly fine for many use-cases, so don’t
worry about graduating to more complex APIs if you don’t need them.</p>
<h2 id="request-and-response-traits" class="section-header"><a href="#request-and-response-traits">Request and response traits</a></h2>
<p>Isahc includes a number of traits in the <a href="prelude/index.html" title="prelude"><code>prelude</code></a> module that extend the
<a href="struct.Request.html" title="Request"><code>Request</code></a> and <a href="struct.Response.html" title="Response"><code>Response</code></a> types with a plethora of extra methods that
make common tasks convenient and allow you to configure more advanced
connection and protocol details.</p>
<p>Here are some of the key traits to read about:</p>
<ul>
<li><a href="config/trait.Configurable.html"><code>Configurable</code></a>: Configure request parameters.</li>
<li><a href="trait.RequestExt.html" title="RequestExt"><code>RequestExt</code></a>: Manipulate and send requests.</li>
<li><a href="trait.ResponseExt.html" title="ResponseExt"><code>ResponseExt</code></a>: Get information about the corresponding request or
response statistics.</li>
<li><a href="trait.ReadResponseExt.html" title="ReadResponseExt"><code>ReadResponseExt</code></a>: Consume a response body in a variety of ways.</li>
<li><a href="trait.AsyncReadResponseExt.html" title="AsyncReadResponseExt"><code>AsyncReadResponseExt</code></a>: Consume an asynchronous response body in a
variety of ways.</li>
</ul>
<h2 id="custom-clients" class="section-header"><a href="#custom-clients">Custom clients</a></h2>
<p>The free-standing functions for sending requests use a shared <a href="struct.HttpClient.html" title="HttpClient"><code>HttpClient</code></a>
instance, but you can also create your own client instances, which allows
you to customize the default behavior for requests that use it.</p>
<p>See the documentation for <a href="struct.HttpClient.html" title="HttpClient"><code>HttpClient</code></a> and <a href="struct.HttpClientBuilder.html" title="HttpClientBuilder"><code>HttpClientBuilder</code></a> for more
information on creating custom clients.</p>
<h2 id="asynchronous-requests" class="section-header"><a href="#asynchronous-requests">Asynchronous requests</a></h2>
<p>Requests are always executed asynchronously under the hood. This allows a
single client to execute a large number of requests concurrently with
minimal overhead. Even synchronous applications can benefit!</p>
<p>If you are writing an asynchronous application, you can reap additional
benefits from the async nature of the client by using the asynchronous
methods available to prevent blocking threads in your code. All request
methods have an asynchronous variant that ends with <code>_async</code> in the name.
Here is our first example rewritten to use async/await syntax:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">isahc::prelude</span>::<span class="kw-2">*</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">response</span> <span class="op">=</span> <span class="ident">isahc::get_async</span>(<span class="string">&quot;https://httpbin.org/get&quot;</span>).<span class="kw">await</span><span class="question-mark">?</span>;
<span class="macro">println!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">response</span>.<span class="ident">text</span>().<span class="kw">await</span><span class="question-mark">?</span>);</code></pre></div>
<p>Since we sent our request using <a href="fn.get_async.html" title="get_async"><code>get_async</code></a>, no blocking will occur, and
the asynchronous versions of all response methods (such as
<a href="trait.AsyncReadResponseExt.html#tymethod.text"><code>text</code></a>) will also automatically be selected by
the compiler.</p>
<h1 id="feature-flags" class="section-header"><a href="#feature-flags">Feature flags</a></h1>
<p>Isahc is designed to be as “pay-as-you-need” as possible using Cargo feature
flags and optional dependencies. Unstable features are also initially
released behind feature flags until they are stabilized. You can add the
feature names below to your <code>Cargo.toml</code> file to enable them:</p>
<div class="example-wrap"><pre class="language-toml"><code>[dependencies.isahc]
version = &quot;1.5&quot;
features = [&quot;psl&quot;]</code></pre></div>
<p>Below is a list of all available feature flags and their meanings.</p>
<h2 id="cookies" class="section-header"><a href="#cookies"><code>cookies</code></a></h2>
<p>Enable persistent HTTP cookie support. Disabled by default.</p>
<h2 id="http2" class="section-header"><a href="#http2"><code>http2</code></a></h2>
<p>Enable compile-time support for HTTP/2 in libcurl via libnghttp2. This does
not actually affect whether HTTP/2 is used for a given request, but simply
makes it available. To configure which HTTP versions to use in a request,
see <a href="config/struct.VersionNegotiation.html"><code>VersionNegotiation</code></a>.</p>
<p>Enabled by default.</p>
<h2 id="json" class="section-header"><a href="#json"><code>json</code></a></h2>
<p>Additional serialization and deserialization of JSON bodies via
<a href="https://serde.rs">serde</a>. Disabled by default.</p>
<h2 id="psl" class="section-header"><a href="#psl"><code>psl</code></a></h2>
<p>Enable use of the Public Suffix List to filter out potentially malicious
cross-domain cookies. Implies <code>cookies</code>, disabled by default.</p>
<h2 id="spnego" class="section-header"><a href="#spnego"><code>spnego</code></a></h2>
<p>Enable support for <a href="https://tools.ietf.org/html/rfc4559">SPNEGO-based HTTP
authentication</a> (<code>negotiate</code> auth
scheme). This makes the <code>negotiate</code> scheme available in the API and, if
<code>static-curl</code> is enabled, compiles libcurl with GSS-API APIs. The <a href="https://web.mit.edu/kerberos/">MIT
Kerberos</a> headers must be pre-installed at
compile time.</p>
<h2 id="static-curl" class="section-header"><a href="#static-curl"><code>static-curl</code></a></h2>
<p>Use a bundled libcurl version and statically link to it. Enabled by default.</p>
<h2 id="text-decoding" class="section-header"><a href="#text-decoding"><code>text-decoding</code></a></h2>
<p>Enable support for decoding text-based responses in various charsets into
strings. Enabled by default.</p>
<h2 id="unstable-apis" class="section-header"><a href="#unstable-apis">Unstable APIs</a></h2>
<p>There are also some features that enable new incubating APIs that do not
have stability guarantees:</p>
<h3 id="unstable-interceptors" class="section-header"><a href="#unstable-interceptors"><code>unstable-interceptors</code></a></h3>
<p>Enable the new interceptors API (replaces the old unstable middleware API).
Unstable until the API is finalized. This an unstable feature whose
interface may change between patch releases.</p>
<h1 id="logging-and-tracing" class="section-header"><a href="#logging-and-tracing">Logging and tracing</a></h1>
<p>Isahc logs quite a bit of useful information at various levels compatible
with the <a href="https://docs.rs/log">log</a> crate. For even more in-depth
diagnostics, you can use a <a href="https://docs.rs/tracing">tracing</a> subscriber to
track log events grouped by individual requests. This can be especially
useful if you are sending multiple requests concurrently.</p>
<p>If you set the log level to <code>Trace</code> for the <code>isahc::wire</code> target, Isahc will
also log all incoming and outgoing data while in flight. This may come in
handy if you are debugging code and need to see the exact data being sent to
the server and being received.</p>
</div></details><h2 id="reexports" class="section-header"><a href="#reexports">Re-exports</a></h2>
<div class="item-table"><div class="item-left import-item"><code>pub use crate::error::<a class="struct" href="error/struct.Error.html" title="struct isahc::error::Error">Error</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use <a class="mod" href="https://docs.rs/http/0.2.5/http/index.html" title="mod http">http</a>;</code></div><div class="item-right docblock-short"></div></div><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="mod" href="auth/index.html" title="isahc::auth mod">auth</a></div><div class="item-right docblock-short"><p>Types for working with HTTP authentication methods.</p>
</div><div class="item-left module-item"><a class="mod" href="config/index.html" title="isahc::config mod">config</a></div><div class="item-right docblock-short"><p>Definition of all client and request configuration options.</p>
</div><div class="item-left module-item"><a class="mod" href="cookies/index.html" title="isahc::cookies mod">cookies</a></div><div class="item-right docblock-short"><p>Types for cookie state management.</p>
</div><div class="item-left module-item"><a class="mod" href="error/index.html" title="isahc::error mod">error</a></div><div class="item-right docblock-short"><p>Types for error handling.</p>
</div><div class="item-left module-item"><a class="mod" href="prelude/index.html" title="isahc::prelude mod">prelude</a></div><div class="item-right docblock-short"><p>A “prelude” for importing commonly used Isahc types and traits.</p>
</div></div><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="struct" href="struct.AsyncBody.html" title="isahc::AsyncBody struct">AsyncBody</a></div><div class="item-right docblock-short"><p>Contains the body of an asynchronous HTTP request or response.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.Body.html" title="isahc::Body struct">Body</a></div><div class="item-right docblock-short"><p>Contains the body of a synchronous HTTP request or response.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.HttpClient.html" title="isahc::HttpClient struct">HttpClient</a></div><div class="item-right docblock-short"><p>An HTTP client for making requests.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.HttpClientBuilder.html" title="isahc::HttpClientBuilder struct">HttpClientBuilder</a></div><div class="item-right docblock-short"><p>An HTTP client builder, capable of creating custom <a href="struct.HttpClient.html" title="HttpClient"><code>HttpClient</code></a> instances
with customized behavior.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.Metrics.html" title="isahc::Metrics struct">Metrics</a></div><div class="item-right docblock-short"><p>An object that holds status updates and progress statistics on a particular
request. A <a href="struct.Metrics.html" title="Metrics"><code>Metrics</code></a> can be shared between threads, which allows an agent
thread to post updates to the object while consumers can read from the
object simultaneously.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.Request.html" title="isahc::Request struct">Request</a></div><div class="item-right docblock-short"><p>Represents an HTTP request.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.Response.html" title="isahc::Response struct">Response</a></div><div class="item-right docblock-short"><p>Represents an HTTP response</p>
</div><div class="item-left module-item"><a class="struct" href="struct.ResponseFuture.html" title="isahc::ResponseFuture struct">ResponseFuture</a></div><div class="item-right docblock-short"><p>A future for a request being executed.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.Trailer.html" title="isahc::Trailer struct">Trailer</a></div><div class="item-right docblock-short"><p>Holds the current state of a trailer for a response.</p>
</div></div><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="trait" href="trait.AsyncReadResponseExt.html" title="isahc::AsyncReadResponseExt trait">AsyncReadResponseExt</a></div><div class="item-right docblock-short"><p>Provides extension methods for consuming asynchronous HTTP response streams.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.ReadResponseExt.html" title="isahc::ReadResponseExt trait">ReadResponseExt</a></div><div class="item-right docblock-short"><p>Provides extension methods for consuming HTTP response streams.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.RequestExt.html" title="isahc::RequestExt trait">RequestExt</a></div><div class="item-right docblock-short"><p>Extension methods on an HTTP request.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.ResponseExt.html" title="isahc::ResponseExt trait">ResponseExt</a></div><div class="item-right docblock-short"><p>Provides extension methods for working with HTTP responses.</p>
</div></div><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="fn" href="fn.delete.html" title="isahc::delete fn">delete</a></div><div class="item-right docblock-short"><p>Send a DELETE request to the given URI.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.delete_async.html" title="isahc::delete_async fn">delete_async</a></div><div class="item-right docblock-short"><p>Send a DELETE request to the given URI asynchronously.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.get.html" title="isahc::get fn">get</a></div><div class="item-right docblock-short"><p>Send a GET request to the given URI.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.get_async.html" title="isahc::get_async fn">get_async</a></div><div class="item-right docblock-short"><p>Send a GET request to the given URI asynchronously.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.head.html" title="isahc::head fn">head</a></div><div class="item-right docblock-short"><p>Send a HEAD request to the given URI.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.head_async.html" title="isahc::head_async fn">head_async</a></div><div class="item-right docblock-short"><p>Send a HEAD request to the given URI asynchronously.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.post.html" title="isahc::post fn">post</a></div><div class="item-right docblock-short"><p>Send a POST request to the given URI with a given request body.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.post_async.html" title="isahc::post_async fn">post_async</a></div><div class="item-right docblock-short"><p>Send a POST request to the given URI asynchronously with a given request
body.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.put.html" title="isahc::put fn">put</a></div><div class="item-right docblock-short"><p>Send a PUT request to the given URI with a given request body.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.put_async.html" title="isahc::put_async fn">put_async</a></div><div class="item-right docblock-short"><p>Send a PUT request to the given URI asynchronously with a given request
body.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.send.html" title="isahc::send fn">send</a></div><div class="item-right docblock-short"><p>Send an HTTP request and return the HTTP response.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.send_async.html" title="isahc::send_async fn">send_async</a></div><div class="item-right docblock-short"><p>Send an HTTP request and return the HTTP response asynchronously.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.version.html" title="isahc::version fn">version</a></div><div class="item-right docblock-short"><p>Gets a human-readable string with the version number of Isahc and its
dependencies.</p>
</div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="isahc" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
    <script src="../main.js"></script>
</body></html>